<div class="main">
  <div class="search-container text-center"> <%= render "shared/search" %></div>
  <div id="landing-buttons">
    <%= link_to runs_path, class: "landing-button" do  %>
      <i class="fa fa-location-arrow" aria-hidden="true"></i>
    <% end %>
    <%= link_to runs_path, class: "landing-button" do   %>
      <i class="fa fa-cube" aria-hidden="true"></i>
    <% end %>
    <%= link_to runs_path, class: "landing-button" do  %>
      <i class="fa fa-user-o" aria-hidden="true"></i>
    <% end %>
  </div>
  <div class="counters-container">
    <div class="number-counter-text">
      <div class="counter" data-count="150">0</div>
      <a href="">Runners</a>
    </div>
    <div class="number-counter-text">
      <div class="counter1" data-count="85">0</div>
      <a href="">Events</a>
    </div>
    <div class="number-counter-text">
      <div class="counter2" data-count="2200">0</div>
      <a href="">Runs</a>
    </div>
  </div>
  <div class="map-svg hidden-xs">
   <%= render "shared/svg_map" %>
      <div class="container-map">
        <div class="map">
          <ul class="map-markers">
            <li class="map-marker map-marker-first">
              <a href="#"></a>
            </li>
            <li class="map-marker map-marker-second">
              <a href="#"></a>
            </li>
            <li class="map-marker map-marker-third">
              <a href="#"></a>
            </li>
            <li class="map-marker map-marker-fourth">
              <a href="#"></a>
            </li>
            <li class="map-marker map-marker-fifth">
              <a href="#"></a>
            </li>
          </ul>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript -->
<% content_for(:after_js) do %>
  <script>
    $('.counter').each(function() {
  var $this = $(this),
  countTo = $this.attr('data-count');
  $({ countNum: $this.text()}).animate({
    countNum: countTo
  },

  {
    duration: 8000,
    easing:'linear',
    step: function() {
      $this.text(Math.floor(this.countNum));
    },
    complete: function() {
   $this.text(this.countNum);
      //alert('finished');
    }
  });

});

$('.counter1').each(function() {
  var $this = $(this),
      countTo = $this.attr('data-count');

  $({ countNum: $this.text()}).animate({
    countNum: countTo
  },

  {
    duration: 8000,
    easing:'linear',
    step: function() {
      $this.text(Math.floor(this.countNum));
    },
    complete: function() {
    $this.text(this.countNum);
    }
  });
});

$('.counter2').each(function() {
  var $this = $(this),
      countTo = $this.attr('data-count');

  $({ countNum: $this.text()}).animate({
    countNum: countTo
  },

  {
    duration: 8000,
    easing:'linear',
    step: function() {
      $this.text(Math.floor(this.countNum));
    },
    complete: function() {
      // $this.text("");
         $this.text(this.countNum);
    }

  });
});
  </script>
<% end %>


